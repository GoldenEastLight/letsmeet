<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace = "com.anjanda.letsmeet.repository.mapper.ImageMapper">

	<!-- C :: 이미지 추가 -->
	<insert id="insertImage" parameterType="image">
	insert into image
		(i__id, i_name, i_username, i_path)
	values
		(#{iId}, #{iName}, #{iUserName}, #{iPath});
	</insert>
	
	<!-- C :: 사진첩 사진 추가 -->
	<insert id="insertGalleryImage" parameterType="gallery">
	insert into gallery
		(g_mr_no, g_u_no, g_name)
	values 
		(#{gMrNo}, #{gUNo}, #{gName})
	</insert>
	
	<!-- R :: 사진첩 이미지 조회 -->
	<select id="selectImageList" parameterType="gallery" resultType="gallery">
		select *
		  from gallery
		 where g_mr_no=#{gMrNo}
	</select>
	
	<!-- U :: 사진첩 이미지 수정 -->
	<update id="updateGalleryImage" parameterType="gallery">
		update gallery
		   set g_name = #{gName}
		 where g_mr_no = #{gMrNo} and g_no = #{gNo}
	</update>
	
	<!-- D :: 사진첩 이미지 삭제 -->
	<delete id="deleteGalleryImage" parameterType="gallery">
		delete
		  from gallery
		 where g_mr_no = #{gMrNo} and g_no = #{gNo}
	</delete>
	
	<!-- U :: 유저 프로필사진 업데이트 -->
	<update id="updateProfile" parameterType="user">
	update user
	   set u_image=#{uImage}
	 where u_email=#{uEmail}
	</update>
	
		<!-- U :: 약속방 사진 업데이트 -->
	<update id="updateMeetingroomImage" parameterType="meetingroom">
	update meetingroom
	   set mr_image=#{mrImage}
	 where mr_no=#{mrNo}
	</update>
	
</mapper>